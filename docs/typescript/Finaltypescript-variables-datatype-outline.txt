================================================================================
VARIABLES & DATA TYPES
TRONG TYPESCRIPT
DÃ nh cho Playwright Automation Testing
================================================================================

================================================================================
Má»¤C Lá»¤C
================================================================================

1. Tá»•ng quan TypeScript
2. Coding Conventions - Quy táº¯c Ä‘áº·t tÃªn
3. Khai bÃ¡o biáº¿n: let, const, var
4. Kiá»ƒu dá»¯ liá»‡u cÆ¡ báº£n
5. Kiá»ƒu dá»¯ liá»‡u nÃ¢ng cao
6. Type Inference
7. Best Practices cho Testing

================================================================================
1. Tá»”NG QUAN TYPESCRIPT
================================================================================

ğŸ¯ Táº¡i sao QA cáº§n há»c TypeScript?

âœ… Type Safety: PhÃ¡t hiá»‡n lá»—i ngay khi code, khÃ´ng pháº£i Ä‘á»£i runtime
âœ… IntelliSense: Auto-complete giÃºp code nhanh hÆ¡n
âœ… Refactoring: Äá»•i tÃªn, cáº¥u trÃºc dá»… dÃ ng khÃ´ng sá»£ lá»—i
âœ… Team Work: Code rÃµ rÃ ng, dá»… Ä‘á»c, dá»… maintain

ğŸ’¡ Lá»£i Ã­ch trong Automation Testing

// âŒ JavaScript - KhÃ³ phÃ¡t hiá»‡n lá»—i
let url = pageUrl;
console.log(url.toUppercase()); // Lá»—i runtime: toUppercase khÃ´ng tá»“n táº¡i

// âœ… TypeScript - Lá»—i ngay khi code
let url: string = pageUrl;
console.log(url.toUpperCase()); // IDE gá»£i Ã½ Ä‘Ãºng method

================================================================================
2. CODING CONVENTIONS - QUY Táº®C Äáº¶T TÃŠN
================================================================================

ğŸ“Œ NguyÃªn táº¯c chung

âœ… TÃªn biáº¿n pháº£i CÃ“ Ã NGHÄ¨A, MÃ” Táº¢ rÃµ má»¥c Ä‘Ã­ch
âœ… DÃ¹ng tiáº¿ng Anh
âœ… TrÃ¡nh viáº¿t táº¯t khÃ³ hiá»ƒu
âœ… DÃ i hÆ¡n má»™t chÃºt nhÆ°ng rÃµ rÃ ng > Ngáº¯n nhÆ°ng khÃ³ hiá»ƒu

--------------------------------------------------------------------------------

ğŸ“Š CÃ¡c kiá»ƒu Case trong TypeScript

+-------------------+------------------+------------------+------------------+
| Kiá»ƒu              | VÃ­ dá»¥            | DÃ¹ng cho         | Convention       |
+-------------------+------------------+------------------+------------------+
| camelCase         | userName         | Variables        | âœ… Standard      |
|                   | getUserInfo      | Functions        |                  |
|                   | isActive         | Methods          |                  |
+-------------------+------------------+------------------+------------------+
| PascalCase        | UserData         | Classes          | âœ… Standard      |
|                   | LoginPage        | Interfaces       |                  |
|                   | BrowserConfig    | Types            |                  |
+-------------------+------------------+------------------+------------------+
| UPPER_SNAKE_CASE  | MAX_RETRY_COUNT  | Constants        | âœ… Standard      |
|                   | BASE_URL         | Config values    |                  |
|                   | DEFAULT_TIMEOUT  | Enum values      |                  |
+-------------------+------------------+------------------+------------------+
| kebab-case        | user-page.ts     | File names       | âœ… Standard      |
|                   | login-helper.ts  | Folder names     |                  |
|                   | test-data.json   | Config files     |                  |
+-------------------+------------------+------------------+------------------+

--------------------------------------------------------------------------------

âœ… VÃ­ dá»¥ chi tiáº¿t

// ğŸ“Œ 1. camelCase - Variables, Functions, Methods
let userName = 'John Doe';
let emailAddress = 'john@example.com';
let isLoggedIn = false;

function getUserData(id: number) {
  return { id, name: 'User' };
}

const validateEmail = (email: string): boolean => {
  return email.includes('@');
};

// ğŸ“Œ 2. PascalCase - Classes, Interfaces, Types
class LoginPage {
  emailSelector: string;
  
  constructor() {
    this.emailSelector = '#email';
  }
}

interface User {
  id: number;
  name: string;
  email: string;
}

type UserRole = 'admin' | 'user' | 'guest';

// ğŸ“Œ 3. UPPER_SNAKE_CASE - Constants
const BASE_URL = 'https://example.com';
const DEFAULT_TIMEOUT = 30000;
const MAX_RETRY_ATTEMPTS = 3;

const CONFIG = {
  BASE_URL: 'https://example.com',
  TIMEOUT: 30000
} as const;

enum BrowserType {
  CHROME = 'chrome',
  FIREFOX = 'firefox',
  SAFARI = 'safari'
}

// ğŸ“Œ 4. kebab-case - File Names & Folders
// âœ… File structure examples:
// src/
//   pages/
//     login-page.ts          â† kebab-case
//     home-page.ts           â† kebab-case
//     user-profile-page.ts   â† kebab-case
//   utils/
//     string-helper.ts       â† kebab-case
//     date-formatter.ts      â† kebab-case
//   config/
//     test-config.json       â† kebab-case
//     env-settings.ts        â† kebab-case

// âš ï¸ LÆ¯U Ã: TÃªn file dÃ¹ng kebab-case, nhÆ°ng class/interface bÃªn trong dÃ¹ng PascalCase
// File: login-page.ts
export class LoginPage {  // â† PascalCase
  // ...
}

// File: user-helper.ts
export function getUserById(id: number) {  // â† camelCase
  // ...
}

--------------------------------------------------------------------------------

ğŸ’¡ Quy táº¯c Ä‘áº·t tÃªn cá»¥ thá»ƒ

âœ… Boolean - Báº¯t Ä‘áº§u vá»›i is, has, should, can
const isVisible = true;
const hasError = false;
const shouldRetry = true;
const canDelete = false;

âœ… Array - DÃ¹ng sá»‘ nhiá»u hoáº·c suffix 'List'
const users = ['admin', 'user', 'guest'];
const emailAddresses = ['user1@test.com', 'user2@test.com'];
const userList = ['John', 'Jane'];

âœ… Function - Báº¯t Ä‘áº§u vá»›i Ä‘á»™ng tá»«
function getUserName(id: number): string { }
function validateEmail(email: string): boolean { }
function buildUrl(base: string, path: string): string { }

âŒ TrÃ¡nh lÃ m
const u = 'url';                    // âŒ QuÃ¡ ngáº¯n
const usrEmlAddr = 'email';         // âŒ Viáº¿t táº¯t khÃ³ hiá»ƒu
const data = { name: 'John' };      // âŒ TÃªn chung chung
const nguoiDung = 'user';           // âŒ Tiáº¿ng Viá»‡t

âœ… NÃªn lÃ m
const userUrl = 'url';              // âœ… RÃµ rÃ ng
const userEmailAddress = 'email';   // âœ… Äáº§y Ä‘á»§
const userData = { name: 'John' };  // âœ… Cá»¥ thá»ƒ
const userName = 'user';            // âœ… Tiáº¿ng Anh

================================================================================
3. KHAI BÃO BIáº¾N: let, const, var
================================================================================

ğŸ“Š Báº¢NG SO SÃNH

+-----------------------+------------------+------------------+------------------+
| Äáº·c Ä‘iá»ƒm              | var              | let              | const            |
+-----------------------+------------------+------------------+------------------+
| Scope                 | Function scope   | Block scope      | Block scope      |
| Re-assign             | âœ… CÃ³            | âœ… CÃ³            | âŒ KhÃ´ng         |
| Re-declare            | âœ… CÃ³            | âŒ KhÃ´ng         | âŒ KhÃ´ng         |
| Hoisting              | âœ… CÃ³            | âŒ KhÃ´ng         | âŒ KhÃ´ng         |
| DÃ¹ng trong Testing    | âš ï¸ KhÃ´ng khuyáº¿n  | âœ… Cho biáº¿n      | âœ… Cho config,   |
|                       |    khÃ­ch         |    thay Ä‘á»•i      |    constant      |
+-----------------------+------------------+------------------+------------------+

ğŸ¯ Khi nÃ o dÃ¹ng gÃ¬ trong Playwright?

âœ… DÃ¹ng const cho:

// ğŸ“Œ URLs vÃ  Configuration
const BASE_URL = 'https://example.com';
const LOGIN_PAGE = '/login';
const TIMEOUT = 30000;

// ğŸ“Œ Selectors (khÃ´ng thay Ä‘á»•i)
const LOGIN_BUTTON_SELECTOR = '#login-button';
const EMAIL_INPUT_SELECTOR = 'input[type="email"]';

// ğŸ“Œ Test Data cá»‘ Ä‘á»‹nh
const ADMIN_USER = {
  email: 'admin@example.com',
  password: 'Admin@123'
};

âœ… DÃ¹ng let cho:

// ğŸ“Œ Biáº¿n thay Ä‘á»•i giÃ¡ trá»‹
let currentPage: string;
let isLoggedIn = false;
let retryCount = 0;

// ğŸ“Œ Dá»¯ liá»‡u Ä‘á»™ng
let username: string;
let responseStatus: number;

// ğŸ“Œ Loop vÃ  iteration
let users = ['admin', 'user', 'guest'];
for (let i = 0; i < users.length; i++) {
  console.log(users[i]);
}

âš ï¸ TRÃNH dÃ¹ng var:

// âŒ KHÃ”NG DÃ™NG - Function scope gÃ¢y confusion
var globalVar = 'test';

// âœ… DÃ™NG - Block scope rÃµ rÃ ng
const testData = 'test';

ğŸ’¡ VÃ­ dá»¥ thá»±c táº¿

// âœ… const - Config khÃ´ng Ä‘á»•i
const BASE_URL = 'https://app.example.com';
const LOGIN_PAGE = '/login';
const DASHBOARD_PAGE = '/dashboard';

// âœ… const - Selectors khÃ´ng Ä‘á»•i
const EMAIL_SELECTOR = '#email';
const PASSWORD_SELECTOR = '#password';
const SUBMIT_BUTTON = 'button[type="submit"]';

// âœ… let - Biáº¿n thay Ä‘á»•i
let currentPage: string;
let isAuthenticated = false;

// Sá»­ dá»¥ng
currentPage = BASE_URL + LOGIN_PAGE;
console.log('Navigating to:', currentPage);

// Sau khi login
currentPage = BASE_URL + DASHBOARD_PAGE;
isAuthenticated = true;

================================================================================
3. KIá»‚U Dá»® LIá»†U CÆ  Báº¢N
================================================================================

ğŸ”¤ String - Text, URLs vÃ  Selectors

// ğŸ“Œ URLs vÃ  Pages
const BASE_URL: string = 'https://example.com';
const HOME_PAGE: string = '/home';
const LOGIN_PAGE: string = '/login';

// ğŸ“Œ Selectors
const LOGIN_BUTTON: string = '#login-btn';
const EMAIL_INPUT: string = 'input[name="email"]';
const ERROR_MESSAGE: string = '.error-message';

// ğŸ“Œ User Data
const USER_NAME: string = 'John Doe';
const USER_EMAIL: string = 'john@example.com';

// ğŸ“Œ Template Literals (String ná»‘i Ä‘á»™ng)
let userId = '12345';
let dynamicSelector = `[data-test-id="${userId}"]`;
let fullURL = `${BASE_URL}${HOME_PAGE}`;

console.log(fullURL); // Output: https://example.com/home

ğŸ”¢ Number - Timeouts, Counts vÃ  Status Codes

// ğŸ“Œ Timeouts vÃ  Delays
const SHORT_TIMEOUT: number = 5000;    // 5 giÃ¢y
const LONG_TIMEOUT: number = 30000;    // 30 giÃ¢y
const RETRY_COUNT: number = 3;

// ğŸ“Œ Counts vÃ  Index
const MAX_ITEMS: number = 10;
const CURRENT_PAGE: number = 1;
const TOTAL_PAGES: number = 5;

// ğŸ“Œ HTTP Status Codes
const SUCCESS_CODE: number = 200;
const NOT_FOUND: number = 404;
const SERVER_ERROR: number = 500;

// ğŸ“Œ VÃ­ dá»¥ sá»­ dá»¥ng
let waitTime = SHORT_TIMEOUT;
let pageIndex = CURRENT_PAGE - 1; // 0-based index

âœ”ï¸ Boolean - Flags vÃ  Conditions

// ğŸ“Œ State Flags
let isLoggedIn: boolean = false;
let isPageLoaded: boolean = true;
let hasError: boolean = false;

// ğŸ“Œ Configuration Flags
const ENABLE_HEADLESS: boolean = true;
const ENABLE_SCREENSHOTS: boolean = false;

// ğŸ“Œ VÃ­ dá»¥ sá»­ dá»¥ng
if (isLoggedIn) {
  console.log('User is authenticated');
} else {
  console.log('Please login first');
}

// Thay Ä‘á»•i state
isLoggedIn = true;
hasError = false;

ğŸ“¦ Array - Danh sÃ¡ch vÃ  Collections

// ğŸ“Œ Danh sÃ¡ch Users
const userRoles: string[] = ['admin', 'user', 'guest'];
const validEmails: string[] = [
  'user1@example.com',
  'user2@example.com',
  'user3@example.com'
];

// ğŸ“Œ CÃ¡ch khai bÃ¡o khÃ¡c
const browsers: Array<string> = ['Chrome', 'Firefox', 'Safari'];

// ğŸ“Œ Danh sÃ¡ch Selectors
const menuSelectors: string[] = [
  'a[href="/home"]',
  'a[href="/products"]',
  'a[href="/contact"]'
];

// ğŸ“Œ Danh sÃ¡ch Numbers
const pageSizes: number[] = [10, 20, 50, 100];

// ğŸ“Œ Sá»­ dá»¥ng vá»›i Loop
for (let i = 0; i < userRoles.length; i++) {
  console.log(`Role ${i + 1}: ${userRoles[i]}`);
}

// Hoáº·c dÃ¹ng for...of
for (const role of userRoles) {
  console.log('User role:', role);
}

================================================================================
4. KIá»‚U Dá»® LIá»†U NÃ‚NG CAO
================================================================================

ğŸ”„ any vs unknown

ğŸ“Š Báº¢NG SO SÃNH

+-----------------------+------------------+------------------+
| Äáº·c Ä‘iá»ƒm              | any              | unknown          |
+-----------------------+------------------+------------------+
| Type Checking         | âŒ Táº¯t hoÃ n toÃ n | âœ… Báº­t type      |
|                       |                  |    checking      |
| Assign to other types | âœ… Tá»± do         | âŒ Pháº£i type     |
|                       |                  |    check trÆ°á»›c   |
| Type Safety           | âŒ KhÃ´ng an toÃ n | âœ… An toÃ n       |
| Khi nÃ o dÃ¹ng          | âš ï¸ TÃ¬nh huá»‘ng    | âœ… Khi khÃ´ng     |
|                       |    Ä‘áº·c biá»‡t      |    biáº¿t type     |
| Best Practice         | âŒ TrÃ¡nh dÃ¹ng    | âœ… Æ¯u tiÃªn dÃ¹ng  |
+-----------------------+------------------+------------------+

ğŸ¯ Khi nÃ o dÃ¹ng any?

// âš ï¸ DÃ¹ng any khi:
// 1. Migration tá»« JavaScript sang TypeScript
// 2. External library khÃ´ng cÃ³ types
// 3. Data structure quÃ¡ phá»©c táº¡p (táº¡m thá»i)

// âŒ VÃ Dá»¤ Xáº¤U - Láº¡m dá»¥ng any
let pageData: any;
pageData = { url: 'test', status: 200 };
console.log(pageData.notExist.value); // KhÃ´ng bÃ¡o lá»—i nhÆ°ng sáº½ crash!

// âš ï¸ CHáº¤P NHáº¬N ÄÆ¯á»¢C - Third-party library
let externalLib: any = require('legacy-library');

âœ… Khi nÃ o dÃ¹ng unknown?

// âœ… DÃ¹ng unknown khi nháº­n data khÃ´ng rÃµ rÃ ng

// ğŸ“Œ Dá»¯ liá»‡u tá»« external source
let externalData: unknown;

// Giáº£ sá»­ nháº­n data tá»« API hoáº·c file
externalData = JSON.parse('{"url": "https://example.com", "status": 200}');

// âœ… Pháº£i type check trÆ°á»›c khi dÃ¹ng
if (typeof externalData === 'object' && externalData !== null) {
  const data = externalData as { url: string; status: number };
  console.log('URL:', data.url);
  console.log('Status:', data.status);
}

// ğŸ“Œ Error Handling
try {
  // some operation
  throw new Error('Something went wrong');
} catch (error: unknown) {
  // âœ… Best practice - kiá»ƒm tra trÆ°á»›c khi dÃ¹ng
  if (error instanceof Error) {
    console.error('Error message:', error.message);
  }
}

ğŸ’¡ So sÃ¡nh thá»±c táº¿

// âŒ DÃ¹ng any - KhÃ´ng an toÃ n
function getPageUrl(pageData: any) {
  return pageData.url.value; // KhÃ´ng bÃ¡o lá»—i náº¿u sai cáº¥u trÃºc
}

// âœ… DÃ¹ng unknown - An toÃ n
function getPageUrlSafe(pageData: unknown): string {
  // Kiá»ƒm tra tá»«ng bÆ°á»›c
  if (
    typeof pageData === 'object' && 
    pageData !== null && 
    'url' in pageData
  ) {
    const data = pageData as { url: string };
    return data.url;
  }
  throw new Error('Invalid page data structure');
}

// Sá»­ dá»¥ng
let data: unknown = { url: 'https://example.com' };
console.log(getPageUrlSafe(data)); // An toÃ n

--------------------------------------------------------------------------------

ğŸ­ Tuple - Cáº·p dá»¯ liá»‡u cÃ³ thá»© tá»±

// ğŸ“Œ Äá»‹nh nghÄ©a: Array vá»›i length cá»‘ Ä‘á»‹nh vÃ  type cá»¥ thá»ƒ cho má»—i pháº§n tá»­

// âœ… VÃ­ dá»¥ cÆ¡ báº£n
type Coordinate = [number, number]; // [x, y]
const clickPosition: Coordinate = [100, 200];

type UserCredentials = [string, string]; // [username, password]
const adminUser: UserCredentials = ['admin', 'Admin@123'];

type PageInfo = [string, number, boolean]; // [pageName, loadTime, isLoaded]
const homePageInfo: PageInfo = ['Home', 1500, true];

// ğŸ“Œ á»¨ng dá»¥ng thá»±c táº¿
type SelectorConfig = [string, number]; // [selector, timeout]
const buttonConfig: SelectorConfig = ['#submit-btn', 5000];
const loadingConfig: SelectorConfig = ['.loading-spinner', 30000];

// Danh sÃ¡ch configs
const allConfigs: SelectorConfig[] = [
  ['#login-button', 5000],
  ['.modal-popup', 10000],
  ['[data-test="confirm"]', 3000]
];

// Sá»­ dá»¥ng
allConfigs.forEach(([selector, timeout]) => {
  console.log(`Selector: ${selector}, Timeout: ${timeout}ms`);
});

--------------------------------------------------------------------------------

ğŸ“Š SO SÃNH: ARRAY vs TUPLE

+--------------------------+-------------------------+-------------------------+
| Äáº·c Ä‘iá»ƒm                 | Array                   | Tuple                   |
+--------------------------+-------------------------+-------------------------+
| Äá»™ dÃ i                   | âœ… Linh hoáº¡t            | âŒ Cá»‘ Ä‘á»‹nh              |
| Kiá»ƒu dá»¯ liá»‡u             | âœ… Äá»“ng nháº¥t            | âœ… CÃ³ thá»ƒ khÃ¡c nhau     |
|                          | (cÃ¹ng type)             | cho má»—i vá»‹ trÃ­          |
| Thá»© tá»±                   | âš ï¸ KhÃ´ng quan trá»ng     | âœ… Ráº¥t quan trá»ng       |
| Type Safety              | âœ… Cho táº¥t cáº£ pháº§n tá»­   | âœ… Cho tá»«ng vá»‹ trÃ­      |
| Flexibility              | âœ… Cao (add/remove)     | âŒ Tháº¥p (fixed length)  |
| Use Case                 | âœ… Danh sÃ¡ch items      | âœ… Cáº·p giÃ¡ trá»‹ liÃªn     |
|                          | cÃ¹ng loáº¡i               | quan cÃ³ thá»© tá»±          |
+--------------------------+-------------------------+-------------------------+

ğŸ¯ Khi nÃ o dÃ¹ng Array?

// âœ… DÃ¹ng ARRAY khi:
// 1. Sá»‘ lÆ°á»£ng pháº§n tá»­ khÃ´ng cá»‘ Ä‘á»‹nh
// 2. Táº¥t cáº£ pháº§n tá»­ cÃ¹ng kiá»ƒu dá»¯ liá»‡u
// 3. Thá»© tá»± khÃ´ng quan trá»ng vá» máº·t ngá»¯ nghÄ©a

// ğŸ“Œ Danh sÃ¡ch users (sá»‘ lÆ°á»£ng thay Ä‘á»•i)
const users: string[] = ['admin', 'user1', 'user2'];
users.push('user3'); // âœ… OK - cÃ³ thá»ƒ thÃªm

// ğŸ“Œ Danh sÃ¡ch test data
const testEmails: string[] = [
  'test1@example.com',
  'test2@example.com',
  'test3@example.com'
];

// ğŸ“Œ Danh sÃ¡ch selectors
const menuSelectors: string[] = [
  'a[href="/home"]',
  'a[href="/products"]',
  'a[href="/contact"]'
];

// âœ… Táº¥t cáº£ pháº§n tá»­ Ä‘á»u lÃ  string
// âœ… CÃ³ thá»ƒ cÃ³ báº¥t ká»³ sá»‘ lÆ°á»£ng nÃ o
// âœ… Thá»© tá»± cÃ³ thá»ƒ thay Ä‘á»•i

ğŸ¯ Khi nÃ o dÃ¹ng Tuple?

// âœ… DÃ¹ng TUPLE khi:
// 1. Sá»‘ lÆ°á»£ng pháº§n tá»­ cá»‘ Ä‘á»‹nh
// 2. Má»—i vá»‹ trÃ­ cÃ³ Ã½ nghÄ©a vÃ  type riÃªng
// 3. Thá»© tá»± quan trá»ng

// ğŸ“Œ Tá»a Ä‘á»™ [x, y] - luÃ´n 2 sá»‘
type Point = [number, number];
const mouseClick: Point = [150, 300];
// mouseClick.push(100); // âŒ Error - khÃ´ng thá»ƒ thÃªm pháº§n tá»­ thá»© 3

// ğŸ“Œ Login credentials [username, password] - luÃ´n 2 string
type Credentials = [string, string];
const userLogin: Credentials = ['admin', 'Admin@123'];

// ğŸ“Œ API Response [status, message, data] - 3 pháº§n tá»­ vá»›i type khÃ¡c nhau
type ApiResult = [number, string, boolean];
const loginResult: ApiResult = [200, 'Success', true];
//                                â†‘     â†‘        â†‘
//                              number string  boolean

// ğŸ“Œ Element Config [selector, timeout, required] - Ã½ nghÄ©a rÃµ rÃ ng
type ElementConfig = [string, number, boolean];
const emailInput: ElementConfig = ['#email', 5000, true];
const phoneInput: ElementConfig = ['#phone', 3000, false];

// âœ… Má»—i vá»‹ trÃ­ cÃ³ Ã½ nghÄ©a cá»¥ thá»ƒ
// âœ… Type khÃ¡c nhau cho má»—i vá»‹ trÃ­
// âœ… Sá»‘ lÆ°á»£ng cá»‘ Ä‘á»‹nh

ğŸ’¡ VÃ­ dá»¥ thá»±c táº¿ so sÃ¡nh

// âŒ ARRAY - KhÃ´ng phÃ¹ há»£p cho dá»¯ liá»‡u cÃ³ Ã½ nghÄ©a khÃ¡c nhau
const userData: any[] = ['John Doe', 25, 'john@example.com', true];
// âš ï¸ Váº¥n Ä‘á»: KhÃ´ng biáº¿t vá»‹ trÃ­ nÃ o lÃ  gÃ¬, type checking yáº¿u

// âœ… TUPLE - PhÃ¹ há»£p cho dá»¯ liá»‡u cÃ³ cáº¥u trÃºc
type UserInfo = [string, number, string, boolean]; // [name, age, email, isActive]
const user: UserInfo = ['John Doe', 25, 'john@example.com', true];

// Destructuring vá»›i tÃªn rÃµ rÃ ng
const [userName, userAge, userEmail, isActive] = user;
console.log(`${userName} (${userAge}) - ${userEmail} - Active: ${isActive}`);

// ğŸ“Œ So sÃ¡nh vá»›i Test Data

// âŒ ARRAY - KhÃ³ maintain
const testData1: any[] = ['https://example.com', 30000, true, 'chrome'];
const testData2: any[] = ['https://test.com', 15000, false, 'firefox'];
// âš ï¸ KhÃ´ng rÃµ rÃ ng tá»«ng giÃ¡ trá»‹ lÃ  gÃ¬

// âœ… TUPLE - RÃµ rÃ ng, type-safe
type TestConfig = [string, number, boolean, string]; // [url, timeout, headless, browser]
const config1: TestConfig = ['https://example.com', 30000, true, 'chrome'];
const config2: TestConfig = ['https://test.com', 15000, false, 'firefox'];

// Sá»­ dá»¥ng
function runTest(config: TestConfig): void {
  const [url, timeout, headless, browser] = config;
  console.log(`Testing ${url} on ${browser}`);
  console.log(`Timeout: ${timeout}ms, Headless: ${headless}`);
}

runTest(config1);

// ğŸ“Œ Tuple vá»›i Optional vÃ  Rest Elements

// Optional elements
type OptionalTuple = [string, number, boolean?]; // boolean lÃ  optional
const data1: OptionalTuple = ['test', 100, true];
const data2: OptionalTuple = ['test', 100]; // âœ… OK - boolean optional

// Rest elements
type StringNumberPairs = [string, ...number[]]; // string + nhiá»u numbers
const pair1: StringNumberPairs = ['label', 1, 2, 3];
const pair2: StringNumberPairs = ['label', 10];

ğŸ¯ Best Practice: Array vs Tuple

âœ… DÃ¹ng Array khi:
- Danh sÃ¡ch items cÃ¹ng loáº¡i (users, products, selectors)
- Sá»‘ lÆ°á»£ng khÃ´ng xÃ¡c Ä‘á»‹nh hoáº·c thay Ä‘á»•i
- Cáº§n thao tÃ¡c thÃªm/xÃ³a pháº§n tá»­

âœ… DÃ¹ng Tuple khi:
- Cáº·p/nhÃ³m giÃ¡ trá»‹ cÃ³ Ã½ nghÄ©a cá»‘ Ä‘á»‹nh (coordinates, credentials)
- Má»—i vá»‹ trÃ­ cÃ³ type vÃ  Ã½ nghÄ©a riÃªng
- Sá»‘ lÆ°á»£ng pháº§n tá»­ xÃ¡c Ä‘á»‹nh
- Cáº§n type safety cho tá»«ng vá»‹ trÃ­

--------------------------------------------------------------------------------

ğŸ”· Object: Interface vs Type Alias

ğŸ“Š Báº¢NG SO SÃNH CHI TIáº¾T

+----------------------+--------------------+--------------------+
| Äáº·c Ä‘iá»ƒm             | interface          | type               |
+----------------------+--------------------+--------------------+
| Má»Ÿ rá»™ng              | extends keyword    | & (intersection)   |
| Declaration Merging  | âœ… CÃ³              | âŒ KhÃ´ng           |
| Union Types          | âŒ KhÃ´ng           | âœ… CÃ³              |
| Primitives/Tuples    | âŒ KhÃ´ng           | âœ… CÃ³              |
| Computed Properties  | âŒ KhÃ´ng           | âœ… CÃ³              |
| Performance          | âœ… Tá»‘t hÆ¡n         | âš ï¸ Cháº­m hÆ¡n chÃºt   |
|                      | (caching)          |                    |
| DÃ¹ng cho             | âœ… Object shapes,  | âœ… Unions, Tuples, |
|                      | Classes            | Complex            |
| Best Practice        | âœ… Public APIs,    | âœ… Complex types,  |
|                      | OOP patterns       | Utilities          |
| Re-open/Extend       | âœ… CÃ³ thá»ƒ (merge)  | âŒ KhÃ´ng           |
| implements (Class)   | âœ… CÃ³              | âœ… CÃ³              |
| Mapped Types         | âŒ KhÃ´ng           | âœ… CÃ³              |
+----------------------+--------------------+--------------------+

ğŸ¯ INTERFACE - Äáº·c Ä‘iá»ƒm vÃ  á»¨ng dá»¥ng

âœ… Äiá»ƒm máº¡nh cá»§a Interface:

1. Declaration Merging (Tá»± Ä‘á»™ng gá»™p khai bÃ¡o)
2. extends keyword rÃµ rÃ ng cho OOP
3. Performance tá»‘t hÆ¡n (TypeScript cache tá»‘t hÆ¡n)
4. Dá»… Ä‘á»c cho object structure
5. Tá»‘t cho public APIs vÃ  libraries

âŒ Háº¡n cháº¿ cá»§a Interface:

1. KhÃ´ng thá»ƒ táº¡o Union types
2. KhÃ´ng thá»ƒ alias primitives hoáº·c tuples
3. KhÃ´ng há»— trá»£ mapped types hoáº·c conditional types

ğŸ¯ Khi nÃ o dÃ¹ng Interface?

// âœ… DÃ™NG INTERFACE khi:
// 1. Äá»‹nh nghÄ©a object structure
// 2. CÃ³ thá»ƒ extend trong tÆ°Æ¡ng lai
// 3. LÃ m viá»‡c vá»›i OOP/Classes
// 4. Táº¡o public APIs cho libraries

// ğŸ“Œ VÃ Dá»¤ 1: Page Object Model trong Playwright

interface BasePage {
  url: string;
  title: string;
  timeout: number;
}

interface NavigationMethods {
  navigate(): Promise<void>;
  waitForLoad(): Promise<void>;
  getTitle(): Promise<string>;
}

// Káº¿t há»£p interfaces
interface Page extends BasePage, NavigationMethods {
  selectors: Record<string, string>;
}

// Sá»­ dá»¥ng
const loginPage: Page = {
  url: 'https://example.com/login',
  title: 'Login Page',
  timeout: 5000,
  selectors: {
    email: '#email',
    password: '#password',
    submit: 'button[type="submit"]'
  },
  async navigate() {
    console.log(`Navigating to ${this.url}`);
  },
  async waitForLoad() {
    console.log('Waiting for page load...');
  },
  async getTitle() {
    return this.title;
  }
};

// ğŸ“Œ VÃ Dá»¤ 2: User Data Structure

interface User {
  id: number;
  username: string;
  email: string;
  role: 'admin' | 'user' | 'guest';
}

interface UserProfile {
  bio: string;
  avatar: string;
  website?: string; // Optional property
}

interface UserSettings {
  theme: 'light' | 'dark';
  language: string;
  notifications: boolean;
}

// âœ… Extending Interface - Má»Ÿ rá»™ng
interface CompleteUser extends User, UserProfile, UserSettings {
  createdAt: Date;
  lastLogin: Date;
}

const fullUser: CompleteUser = {
  // User properties
  id: 1,
  username: 'johndoe',
  email: 'john@example.com',
  role: 'admin',
  // UserProfile properties
  bio: 'Software Tester',
  avatar: 'avatar.jpg',
  website: 'https://johndoe.com',
  // UserSettings properties
  theme: 'dark',
  language: 'en',
  notifications: true,
  // CompleteUser properties
  createdAt: new Date('2024-01-01'),
  lastLogin: new Date()
};

// ğŸ“Œ VÃ Dá»¤ 3: Test Configuration

interface BaseConfig {
  baseURL: string;
  timeout: number;
  retries: number;
}

interface BrowserConfig {
  headless: boolean;
  viewport: {
    width: number;
    height: number;
  };
  slowMo?: number;
}

interface TestConfig extends BaseConfig, BrowserConfig {
  testDir: string;
  screenshots: boolean;
  video: boolean;
}

const config: TestConfig = {
  // BaseConfig
  baseURL: 'https://example.com',
  timeout: 30000,
  retries: 2,
  // BrowserConfig
  headless: true,
  viewport: {
    width: 1920,
    height: 1080
  },
  slowMo: 100,
  // TestConfig
  testDir: './tests',
  screenshots: true,
  video: false
};

// ğŸ“Œ VÃ Dá»¤ 4: API Response Interface

interface BaseResponse {
  status: number;
  message: string;
  timestamp: Date;
}

interface SuccessResponse<T> extends BaseResponse {
  data: T;
}

interface ErrorResponse extends BaseResponse {
  error: {
    code: string;
    details: string;
  };
}

// Sá»­ dá»¥ng vá»›i generic
interface UserData {
  id: number;
  name: string;
  email: string;
}

const successResponse: SuccessResponse<UserData> = {
  status: 200,
  message: 'Success',
  timestamp: new Date(),
  data: {
    id: 1,
    name: 'John',
    email: 'john@example.com'
  }
};

const errorResponse: ErrorResponse = {
  status: 404,
  message: 'Not Found',
  timestamp: new Date(),
  error: {
    code: 'USER_NOT_FOUND',
    details: 'User with ID 999 does not exist'
  }
};

// ğŸ“Œ VÃ Dá»¤ 5: Interface vá»›i Methods (Function signatures)

interface Validator {
  validate(value: string): boolean;
  getErrorMessage(): string;
}

interface EmailValidator extends Validator {
  checkDomain(domain: string): boolean;
}

// Implementation
const emailValidator: EmailValidator = {
  validate(value: string): boolean {
    return value.includes('@') && value.includes('.');
  },
  getErrorMessage(): string {
    return 'Invalid email format';
  },
  checkDomain(domain: string): boolean {
    const allowedDomains = ['gmail.com', 'yahoo.com', 'outlook.com'];
    return allowedDomains.includes(domain);
  }
};

// Sá»­ dá»¥ng
const email = 'test@gmail.com';
if (emailValidator.validate(email)) {
  console.log('Email is valid');
} else {
  console.log(emailValidator.getErrorMessage());
}

// ğŸ“Œ VÃ Dá»¤ 6: Interface vá»›i Index Signature (Dynamic properties)

interface StringDictionary {
  [key: string]: string;
}

const selectors: StringDictionary = {
  loginButton: '#login',
  emailInput: 'input[type="email"]',
  passwordInput: 'input[type="password"]',
  submitButton: 'button[type="submit"]'
};

// CÃ³ thá»ƒ thÃªm Ä‘á»™ng
selectors.newSelector = '#new-element';

interface NumberDictionary {
  [index: string]: number;
}

const timeouts: NumberDictionary = {
  short: 5000,
  medium: 15000,
  long: 30000
};

// ğŸ“Œ VÃ Dá»¤ 7: Interface vá»›i Readonly vÃ  Optional

interface Product {
  readonly id: number;          // Readonly - khÃ´ng thá»ƒ thay Ä‘á»•i
  name: string;
  price: number;
  description?: string;         // Optional
  readonly createdAt: Date;     // Readonly
  stock?: number;               // Optional
}

const product: Product = {
  id: 101,
  name: 'Laptop',
  price: 999.99,
  description: 'High-performance laptop',
  createdAt: new Date()
};

// product.id = 102;           // âŒ Error - readonly
product.price = 899.99;        // âœ… OK
product.stock = 50;            // âœ… OK - optional cÃ³ thá»ƒ set

// ğŸ“Œ VÃ Dá»¤ 8: Interface cho Class Implementation

interface ILogger {
  log(message: string): void;
  error(message: string): void;
  warn(message: string): void;
}

class ConsoleLogger implements ILogger {
  log(message: string): void {
    console.log(`[LOG] ${message}`);
  }

  error(message: string): void {
    console.error(`[ERROR] ${message}`);
  }

  warn(message: string): void {
    console.warn(`[WARN] ${message}`);
  }
}

class FileLogger implements ILogger {
  private logFile: string;

  constructor(logFile: string) {
    this.logFile = logFile;
  }

  log(message: string): void {
    console.log(`Writing to ${this.logFile}: [LOG] ${message}`);
  }

  error(message: string): void {
    console.log(`Writing to ${this.logFile}: [ERROR] ${message}`);
  }

  warn(message: string): void {
    console.log(`Writing to ${this.logFile}: [WARN] ${message}`);
  }
}

// Sá»­ dá»¥ng
const logger: ILogger = new ConsoleLogger();
logger.log('Test started');
logger.error('Test failed');

const fileLogger: ILogger = new FileLogger('test.log');
fileLogger.log('Logging to file');

// ğŸ“Œ VÃ Dá»¤ 9: âœ… Declaration Merging (TÃ­nh nÄƒng Ä‘áº·c biá»‡t cá»§a Interface)

// Khai bÃ¡o láº§n 1
interface BrowserConfig {
  name: string;
  headless: boolean;
}

// Khai bÃ¡o láº§n 2 - Tá»° Äá»˜NG Gá»˜P vá»›i láº§n 1
interface BrowserConfig {
  timeout: number;
  viewport: { width: number; height: number };
}

// Káº¿t quáº£: BrowserConfig cÃ³ Táº¤T Cáº¢ properties
const browser: BrowserConfig = {
  name: 'Chrome',
  headless: true,
  timeout: 30000,
  viewport: { width: 1920, height: 1080 }
};

// âš ï¸ LÆ°u Ã½: TYPE KHÃ”NG LÃ€M ÄÆ¯á»¢C Ä‘iá»u nÃ y
// type BrowserType = { name: string };
// type BrowserType = { timeout: number }; // âŒ Error: Duplicate identifier

// ğŸ“Œ VÃ Dá»¤ 10: Interface vá»›i Generic Types

interface ApiResponse<T> {
  success: boolean;
  data: T;
  timestamp: Date;
}

interface User {
  id: number;
  name: string;
}

interface Product {
  sku: string;
  name: string;
  price: number;
}

const userResponse: ApiResponse<User> = {
  success: true,
  data: { id: 1, name: 'John' },
  timestamp: new Date()
};

const productResponse: ApiResponse<Product> = {
  success: true,
  data: { sku: 'ABC123', name: 'Laptop', price: 999 },
  timestamp: new Date()
};

const usersListResponse: ApiResponse<User[]> = {
  success: true,
  data: [
    { id: 1, name: 'John' },
    { id: 2, name: 'Jane' }
  ],
  timestamp: new Date()
};

ğŸ¯ Khi nÃ o dÃ¹ng Type Alias?

// âœ… DÃ™NG TYPE khi:
// 1. Unions vÃ  Intersections
// 2. Tuples
// 3. Mapped types, Conditional types
// 4. Aliases cho primitives
// 5. Complex type compositions

âœ… Äiá»ƒm máº¡nh cá»§a Type:

1. Há»— trá»£ Union types (interface KHÃ”NG lÃ m Ä‘Æ°á»£c)
2. CÃ³ thá»ƒ alias báº¥t ká»³ type nÃ o (primitives, tuples, etc.)
3. Mapped types vÃ  Conditional types
4. Computed properties
5. Linh hoáº¡t hÆ¡n cho complex type logic

âŒ Háº¡n cháº¿ cá»§a Type:

1. KhÃ´ng cÃ³ Declaration Merging
2. Performance cháº­m hÆ¡n má»™t chÃºt
3. Error messages Ä‘Ã´i khi khÃ³ Ä‘á»c hÆ¡n

// ğŸ“Œ VÃ Dá»¤ 1: Union Types (Interface KHÃ”NG LÃ€M ÄÆ¯á»¢C)
type PageStatus = 'loading' | 'loaded' | 'error';
type BrowserName = 'Chrome' | 'Firefox' | 'Safari';
type UserRole = 'admin' | 'user' | 'guest';

let currentStatus: PageStatus = 'loading';
currentStatus = 'loaded'; // âœ… OK
// currentStatus = 'invalid'; // âŒ Error: khÃ´ng há»£p lá»‡

// ğŸ“Œ VÃ Dá»¤ 2: Primitive Aliases
type UserId = number;
type Email = string;
type Timestamp = number;

const id: UserId = 12345;
const userEmail: Email = 'user@example.com';
const createdAt: Timestamp = Date.now();

// ğŸ“Œ VÃ Dá»¤ 3: Intersection Types (Káº¿t há»£p nhiá»u types)
type Timestamped = {
  createdAt: Date;
  updatedAt: Date;
};

type User = {
  id: number;
  name: string;
};

type UserWithTimestamp = User & Timestamped;

const user: UserWithTimestamp = {
  id: 1,
  name: 'John',
  createdAt: new Date(),
  updatedAt: new Date()
};

// ğŸ“Œ VÃ Dá»¤ 4: Tuples
type Credentials = [string, string]; // [username, password]
type Point = [number, number]; // [x, y]
type RGB = [number, number, number]; // [red, green, blue]

const loginCreds: Credentials = ['admin', 'Admin@123'];
const mousePos: Point = [150, 200];
const color: RGB = [255, 128, 0];

// ğŸ“Œ VÃ Dá»¤ 5: Function Types
type StringValidator = (value: string) => boolean;
type PageNavigator = (url: string) => Promise<void>;
type ErrorHandler = (error: Error) => void;

const validateEmail: StringValidator = (email) => {
  return email.includes('@');
};

const navigateToPage: PageNavigator = async (url) => {
  console.log(`Navigating to ${url}`);
};

const handleError: ErrorHandler = (error) => {
  console.error('Error:', error.message);
};

// ğŸ“Œ VÃ Dá»¤ 6: Discriminated Unions (Tagged Unions)
type SuccessResult = {
  status: 'success';
  data: string;
};

type ErrorResult = {
  status: 'error';
  errorMessage: string;
  errorCode: number;
};

type PendingResult = {
  status: 'pending';
  progress: number;
};

type ApiResult = SuccessResult | ErrorResult | PendingResult;

function handleResult(result: ApiResult): void {
  switch (result.status) {
    case 'success':
      console.log('Data:', result.data);
      break;
    case 'error':
      console.log(`Error ${result.errorCode}: ${result.errorMessage}`);
      break;
    case 'pending':
      console.log(`Progress: ${result.progress}%`);
      break;
  }
}

// Sá»­ dá»¥ng
handleResult({ status: 'success', data: 'User loaded' });
handleResult({ status: 'error', errorMessage: 'Not found', errorCode: 404 });
handleResult({ status: 'pending', progress: 75 });

// ğŸ“Œ VÃ Dá»¤ 7: Union of Multiple Types
type StringOrNumber = string | number;
type ID = string | number;
type ResponseData = string | number | boolean | null;

let value: StringOrNumber;
value = 'hello';    // âœ… OK
value = 123;        // âœ… OK

let userId: ID;
userId = 'user_123';  // âœ… OK
userId = 12345;       // âœ… OK

// ğŸ“Œ VÃ Dá»¤ 8: Mapped Types (Type transformation)
type User = {
  id: number;
  name: string;
  email: string;
};

// Make all properties optional
type PartialUser = {
  [K in keyof User]?: User[K];
};

// Make all properties readonly
type ReadonlyUser = {
  readonly [K in keyof User]: User[K];
};

const partialUser: PartialUser = {
  id: 1
  // name vÃ  email optional
};

const readonlyUser: ReadonlyUser = {
  id: 1,
  name: 'John',
  email: 'john@example.com'
};
// readonlyUser.name = 'Jane'; // âŒ Error: readonly

// ğŸ“Œ VÃ Dá»¤ 9: Conditional Types
type IsString<T> = T extends string ? 'yes' : 'no';

type Test1 = IsString<string>;  // 'yes'
type Test2 = IsString<number>;  // 'no'

// Practical example
type NonNullable<T> = T extends null | undefined ? never : T;

type A = NonNullable<string | null>;      // string
type B = NonNullable<number | undefined>; // number

// ğŸ“Œ VÃ Dá»¤ 10: Utility Types vá»›i Type Alias
type Product = {
  id: number;
  name: string;
  price: number;
  description: string;
  stock: number;
};

// Partial - All properties optional
type PartialProduct = Partial<Product>;

// Pick - Select specific properties
type ProductSummary = Pick<Product, 'id' | 'name' | 'price'>;

// Omit - Exclude specific properties
type ProductWithoutStock = Omit<Product, 'stock'>;

// Required - All properties required
type RequiredProduct = Required<Product>;

// Readonly - All properties readonly
type ReadonlyProduct = Readonly<Product>;

// Record - Create object type
type ProductCategories = Record<'electronics' | 'clothing' | 'food', Product[]>;

const categories: ProductCategories = {
  electronics: [
    { id: 1, name: 'Laptop', price: 999, description: 'High-end laptop', stock: 10 }
  ],
  clothing: [
    { id: 2, name: 'T-Shirt', price: 20, description: 'Cotton t-shirt', stock: 100 }
  ],
  food: [
    { id: 3, name: 'Apple', price: 1, description: 'Fresh apple', stock: 500 }
  ]
};

--------------------------------------------------------------------------------

ï¿½ SO SÃNH TOÃ€N DIá»†N: INTERFACE vs TYPE

ğŸ¯ KHI NÃ€O DÃ™NG GÃŒ?

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DÃ™NG INTERFACE KHI:                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… Äá»‹nh nghÄ©a object structures                                    â”‚
â”‚ âœ… LÃ m viá»‡c vá»›i Classes vÃ  OOP                                     â”‚
â”‚ âœ… Public APIs hoáº·c library code                                   â”‚
â”‚ âœ… Cáº§n extends vá»›i keyword rÃµ rÃ ng                                 â”‚
â”‚ âœ… Cáº§n Declaration Merging                                         â”‚
â”‚ âœ… Performance quan trá»ng (large codebase)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       DÃ™NG TYPE KHI:                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… Cáº§n Union types (A | B)                                         â”‚
â”‚ âœ… Cáº§n alias primitives (type ID = number)                         â”‚
â”‚ âœ… Cáº§n Tuples ([string, number])                                   â”‚
â”‚ âœ… Cáº§n Mapped hoáº·c Conditional types                               â”‚
â”‚ âœ… Complex type composition                                        â”‚
â”‚ âœ… Utility types (Pick, Omit, Partial, etc.)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’¡ VÃ Dá»¤ SO SÃNH THá»°C Táº¾

// ========================================
// âŒ INTERFACE - KhÃ´ng thá»ƒ lÃ m nhá»¯ng viá»‡c sau
// ========================================

// âŒ Union types
// interface Status = 'loading' | 'loaded'; // âŒ Syntax Error

// âŒ Tuple types
// interface Point = [number, number]; // âŒ Syntax Error

// âŒ Primitive aliases
// interface UserId = number; // âŒ Syntax Error

// ========================================
// âœ… TYPE - LÃ m Ä‘Æ°á»£c táº¥t cáº£
// ========================================

// âœ… Union types
type Status = 'loading' | 'loaded' | 'error';

// âœ… Tuple types
type Point = [number, number];

// âœ… Primitive aliases
type UserId = number;
type Email = string;

// ========================================
// âœ… INTERFACE - Tá»‘t cho Object Structure
// ========================================

interface User {
  id: number;
  name: string;
  email: string;
}

interface Admin extends User {
  permissions: string[];
}

// âœ… Declaration Merging
interface Config {
  timeout: number;
}
interface Config {
  retries: number;
}
// Káº¿t quáº£: Config cÃ³ cáº£ timeout vÃ  retries

// ========================================
// âœ… TYPE - Tá»‘t cho Complex Composition
// ========================================

type User = {
  id: number;
  name: string;
};

type Admin = User & {
  permissions: string[];
};

// Union of objects
type Result = 
  | { status: 'success'; data: string }
  | { status: 'error'; message: string };

// ========================================
// ğŸ¯ Best Practice: Káº¾T Há»¢P Cáº¢ HAI
// ========================================

// âœ… Interface cho object shapes
interface PageConfig {
  url: string;
  title: string;
  timeout: number;
}

interface UserData {
  id: number;
  name: string;
  email: string;
}

// âœ… Type cho unions, status
type PageStatus = 'loading' | 'loaded' | 'error';
type UserRole = 'admin' | 'user' | 'guest';
type BrowserType = 'chrome' | 'firefox' | 'safari';

// âœ… Káº¿t há»£p Interface vÃ  Type
interface User extends UserData {
  role: UserRole;        // Type dÃ¹ng trong Interface
  status: PageStatus;    // Type dÃ¹ng trong Interface
}

const admin: User = {
  id: 1,
  name: 'Admin',
  email: 'admin@example.com',
  role: 'admin',
  status: 'loaded'
};

// âœ… Union of Interfaces
type SearchResult = PageConfig | UserData;

let result: SearchResult;
result = { url: '/home', title: 'Home', timeout: 5000 };
result = { id: 1, name: 'John', email: 'john@example.com' };

// ========================================
// ğŸ“Š Báº¢NG SO SÃNH CÃš PHÃP
// ========================================

// EXTENDING/INTERSECTING

// Interface extends
interface A { x: number; }
interface B extends A { y: number; }

// Type intersection
type A = { x: number; };
type B = A & { y: number; };

// IMPLEMENTING IN CLASS

// Interface
interface ILogger {
  log(msg: string): void;
}
class Logger implements ILogger {
  log(msg: string): void {
    console.log(msg);
  }
}

// Type
type ILogger = {
  log(msg: string): void;
};
class Logger implements ILogger {
  log(msg: string): void {
    console.log(msg);
  }
}

// âš ï¸ CHÃš Ã: Cáº¢ HAI Äá»€U CÃ“ THá»‚ DÃ™NG Vá»šI CLASSES

// ========================================
// ğŸ¯ QUYáº¾T Äá»ŠNH NHANH
// ========================================

/*
CÃ‚U Há»I                           DÃ™NG GÃŒ?
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
CÃ³ pháº£i object structure?        â†’ interface
CÃ³ pháº£i union (A | B)?           â†’ type
CÃ³ pháº£i tuple ([x, y])?          â†’ type
CÃ³ pháº£i primitive alias?         â†’ type
Cáº§n extends trong tÆ°Æ¡ng lai?     â†’ interface
Cáº§n declaration merging?         â†’ interface
LÃ m viá»‡c vá»›i Classes?            â†’ interface
Cáº§n mapped/conditional types?    â†’ type
Public API/Library?              â†’ interface
Internal complex types?          â†’ type
*/

// ========================================
// âœ… PATTERN KHUYáº¾N NGHá»Š CHO PLAYWRIGHT
// ========================================

// ğŸ“Œ 1. Page Objects - DÃ¹ng INTERFACE
interface LoginPage {
  url: string;
  emailSelector: string;
  passwordSelector: string;
  login(email: string, password: string): Promise<void>;
}

// ğŸ“Œ 2. Test Data - DÃ¹ng INTERFACE
interface TestUser {
  username: string;
  password: string;
  email: string;
}

// ğŸ“Œ 3. Status/Config Values - DÃ¹ng TYPE
type TestStatus = 'pass' | 'fail' | 'skip';
type Environment = 'dev' | 'staging' | 'prod';
type BrowserName = 'chromium' | 'firefox' | 'webkit';

// ğŸ“Œ 4. Configuration - DÃ¹ng INTERFACE
interface PlaywrightConfig {
  baseURL: string;
  timeout: number;
  retries: number;
  browser: BrowserName; // Type dÃ¹ng trong Interface
}

// ğŸ“Œ 5. API Response - DÃ¹ng TYPE cho Discriminated Unions
type ApiResponse = 
  | { status: 'success'; data: any }
  | { status: 'error'; error: string };

// ğŸ“Œ 6. Utility Functions - DÃ¹ng TYPE
type Validator = (value: string) => boolean;
type AsyncAction = () => Promise<void>;

// ========================================
// ğŸ“ TÃ“M Táº®T
// ========================================

/*
INTERFACE
â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Object structures
âœ… Classes vÃ  OOP
âœ… Public APIs
âœ… Declaration merging
âœ… Better performance
âŒ KhÃ´ng lÃ m Ä‘Æ°á»£c unions
âŒ KhÃ´ng lÃ m Ä‘Æ°á»£c tuples
âŒ KhÃ´ng alias primitives

TYPE
â”€â”€â”€â”€
âœ… Unions (A | B)
âœ… Tuples ([x, y])
âœ… Primitives aliases
âœ… Mapped types
âœ… Conditional types
âœ… Flexibility
âŒ KhÃ´ng cÃ³ declaration merging
âŒ Performance cháº­m hÆ¡n chÃºt

BEST PRACTICE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Káº¿t há»£p cáº£ hai
âœ… Interface cho objects
âœ… Type cho unions/tuples
âœ… Nháº¥t quÃ¡n trong project
*/

--------------------------------------------------------------------------------

ï¿½ğŸ“š TYPE ALIAS & UNION TYPES CHI TIáº¾T

ğŸ¯ Type Alias - Äáº·t tÃªn cho Types

// ğŸ“Œ Type Alias lÃ  gÃ¬?
// Cho phÃ©p Ä‘áº·t tÃªn (alias) cho báº¥t ká»³ type nÃ o
// GiÃºp code dá»… Ä‘á»c, tÃ¡i sá»­ dá»¥ng, vÃ  maintain

// âœ… VÃ­ dá»¥ cÆ¡ báº£n

// Type alias cho primitive types
type UserID = number;
type Email = string;
type IsActive = boolean;

const userId: UserID = 12345;
const userEmail: Email = 'user@example.com';
const isActive: IsActive = true;

// Type alias cho object types
type User = {
  id: number;
  name: string;
  email: string;
};

type PageConfig = {
  url: string;
  timeout: number;
  headless: boolean;
};

// Type alias cho array types
type StringArray = string[];
type NumberList = number[];
type UserList = User[];

// Type alias cho function types
type ValidatorFunction = (value: string) => boolean;
type ClickHandler = (x: number, y: number) => void;
type AsyncFetcher = () => Promise<string>;

--------------------------------------------------------------------------------

ğŸ”€ Union Types - Káº¿t há»£p nhiá»u types

// ğŸ“Œ Union Type lÃ  gÃ¬?
// Cho phÃ©p má»™t biáº¿n cÃ³ thá»ƒ lÃ  má»™t trong nhiá»u types
// Sá»­ dá»¥ng kÃ½ hiá»‡u | (pipe)

// âœ… VÃ­ dá»¥ cÆ¡ báº£n

// Union cá»§a primitive types
type StringOrNumber = string | number;

let value: StringOrNumber;
value = 'hello';     // âœ… OK
value = 123;         // âœ… OK
// value = true;     // âŒ Error: boolean khÃ´ng thuá»™c union

// Union cho status values
type Status = 'pending' | 'success' | 'error';

let currentStatus: Status;
currentStatus = 'pending';   // âœ… OK
currentStatus = 'success';   // âœ… OK
// currentStatus = 'loading'; // âŒ Error: 'loading' khÃ´ng há»£p lá»‡

// Union cho browser types
type Browser = 'chrome' | 'firefox' | 'safari' | 'edge';

const selectedBrowser: Browser = 'chrome';

// Union cá»§a object types
type LoginMethod = 
  | { type: 'email'; email: string; password: string }
  | { type: 'phone'; phone: string; otp: string }
  | { type: 'social'; provider: 'google' | 'facebook'; token: string };

--------------------------------------------------------------------------------

ğŸ¯ VÃ­ dá»¥ thá»±c táº¿ trong Automation Testing

// ğŸ“Œ 1. Page Status Types
type PageStatus = 'loading' | 'loaded' | 'error' | 'timeout';

let homePageStatus: PageStatus = 'loading';

function updatePageStatus(status: PageStatus): void {
  console.log(`Page status: ${status}`);
}

updatePageStatus('loaded');
// updatePageStatus('invalid'); // âŒ Error

// ğŸ“Œ 2. HTTP Methods
type HttpMethod = 'GET' | 'POST' | 'PUT' | 'DELETE' | 'PATCH';

function makeRequest(url: string, method: HttpMethod): void {
  console.log(`${method} request to ${url}`);
}

makeRequest('/api/users', 'GET');
makeRequest('/api/users', 'POST');

// ğŸ“Œ 3. Log Levels
type LogLevel = 'debug' | 'info' | 'warn' | 'error';

function log(message: string, level: LogLevel = 'info'): void {
  const timestamp = new Date().toISOString();
  console.log(`[${timestamp}] [${level.toUpperCase()}] ${message}`);
}

log('Test started', 'info');
log('Element not found', 'error');

// ğŸ“Œ 4. Element States
type ElementState = 'visible' | 'hidden' | 'disabled' | 'enabled';

function checkElementState(selector: string, state: ElementState): boolean {
  console.log(`Checking if ${selector} is ${state}`);
  return true; // simplified
}

// ğŸ“Œ 5. Test Results
type TestResult = 'pass' | 'fail' | 'skip';

type TestReport = {
  testName: string;
  result: TestResult;
  duration: number;
  errorMessage?: string;
};

const testReports: TestReport[] = [
  { testName: 'Login Test', result: 'pass', duration: 1500 },
  { testName: 'Checkout Test', result: 'fail', duration: 2300, errorMessage: 'Payment failed' },
  { testName: 'Search Test', result: 'skip', duration: 0 }
];

// ğŸ“Œ 6. Configuration Environments
type Environment = 'local' | 'dev' | 'staging' | 'production';

type EnvConfig = {
  env: Environment;
  baseUrl: string;
  apiUrl: string;
  timeout: number;
};

const configs: Record<Environment, EnvConfig> = {
  local: {
    env: 'local',
    baseUrl: 'http://localhost:3000',
    apiUrl: 'http://localhost:8080/api',
    timeout: 5000
  },
  dev: {
    env: 'dev',
    baseUrl: 'https://dev.example.com',
    apiUrl: 'https://api-dev.example.com',
    timeout: 10000
  },
  staging: {
    env: 'staging',
    baseUrl: 'https://staging.example.com',
    apiUrl: 'https://api-staging.example.com',
    timeout: 15000
  },
  production: {
    env: 'production',
    baseUrl: 'https://example.com',
    apiUrl: 'https://api.example.com',
    timeout: 30000
  }
};

function getConfig(env: Environment): EnvConfig {
  return configs[env];
}

const devConfig = getConfig('dev');
console.log(devConfig.baseUrl);

--------------------------------------------------------------------------------

ğŸ”„ Type Narrowing vá»›i Union Types

// ğŸ“Œ Type Narrowing: Thu háº¹p type trong Union
// TypeScript tá»± Ä‘á»™ng hiá»ƒu type cá»¥ thá»ƒ dá»±a vÃ o code logic

// âœ… VÃ­ dá»¥ vá»›i typeof
function printValue(value: string | number): void {
  if (typeof value === 'string') {
    // TypeScript biáº¿t value lÃ  string á»Ÿ Ä‘Ã¢y
    console.log(value.toUpperCase());
  } else {
    // TypeScript biáº¿t value lÃ  number á»Ÿ Ä‘Ã¢y
    console.log(value.toFixed(2));
  }
}

printValue('hello');  // HELLO
printValue(123.456);  // 123.46

// âœ… VÃ­ dá»¥ vá»›i literal types
function handleStatus(status: 'success' | 'error' | 'pending'): string {
  if (status === 'success') {
    return 'âœ… Success';
  } else if (status === 'error') {
    return 'âŒ Error';
  } else {
    return 'â³ Pending';
  }
}

// âœ… VÃ­ dá»¥ vá»›i discriminated unions (Tagged unions)
type SuccessResponse = {
  status: 'success';
  data: string;
};

type ErrorResponse = {
  status: 'error';
  errorMessage: string;
};

type ApiResponse = SuccessResponse | ErrorResponse;

function handleResponse(response: ApiResponse): void {
  if (response.status === 'success') {
    // TypeScript biáº¿t Ä‘Ã¢y lÃ  SuccessResponse
    console.log('Data:', response.data);
  } else {
    // TypeScript biáº¿t Ä‘Ã¢y lÃ  ErrorResponse
    console.log('Error:', response.errorMessage);
  }
}

// Sá»­ dá»¥ng
const successRes: ApiResponse = {
  status: 'success',
  data: 'User data loaded'
};

const errorRes: ApiResponse = {
  status: 'error',
  errorMessage: 'Network timeout'
};

handleResponse(successRes);  // Data: User data loaded
handleResponse(errorRes);    // Error: Network timeout

// âœ… VÃ­ dá»¥ thá»±c táº¿: Login Methods
type EmailLogin = {
  method: 'email';
  email: string;
  password: string;
};

type PhoneLogin = {
  method: 'phone';
  phoneNumber: string;
  otp: string;
};

type SocialLogin = {
  method: 'social';
  provider: 'google' | 'facebook';
  accessToken: string;
};

type LoginCredentials = EmailLogin | PhoneLogin | SocialLogin;

function login(credentials: LoginCredentials): void {
  switch (credentials.method) {
    case 'email':
      console.log(`Email login: ${credentials.email}`);
      // TypeScript biáº¿t cÃ³ email vÃ  password
      break;
    case 'phone':
      console.log(`Phone login: ${credentials.phoneNumber}`);
      // TypeScript biáº¿t cÃ³ phoneNumber vÃ  otp
      break;
    case 'social':
      console.log(`Social login: ${credentials.provider}`);
      // TypeScript biáº¿t cÃ³ provider vÃ  accessToken
      break;
  }
}

// Sá»­ dá»¥ng
login({ method: 'email', email: 'user@example.com', password: 'pass123' });
login({ method: 'phone', phoneNumber: '+84123456789', otp: '123456' });
login({ method: 'social', provider: 'google', accessToken: 'token123' });

--------------------------------------------------------------------------------

ğŸ¯ Best Practices cho Type Alias & Union Types

âœ… 1. Äáº·t tÃªn Type rÃµ rÃ ng, mÃ´ táº£

// âŒ KhÃ´ng rÃµ rÃ ng
type T = string | number;
type Data = any;

// âœ… RÃµ rÃ ng
type UserId = string | number;
type PageData = { title: string; url: string };

âœ… 2. DÃ¹ng Union Types cho giÃ¡ trá»‹ giá»›i háº¡n

// âŒ DÃ¹ng string chung chung
function setLogLevel(level: string): void { }

// âœ… DÃ¹ng Union Types cá»¥ thá»ƒ
type LogLevel = 'debug' | 'info' | 'warn' | 'error';
function setLogLevel(level: LogLevel): void { }

âœ… 3. DÃ¹ng Discriminated Unions cho complex objects

// âœ… Tagged union vá»›i discriminator property
type Shape = 
  | { kind: 'circle'; radius: number }
  | { kind: 'rectangle'; width: number; height: number }
  | { kind: 'square'; size: number };

function getArea(shape: Shape): number {
  switch (shape.kind) {
    case 'circle':
      return Math.PI * shape.radius ** 2;
    case 'rectangle':
      return shape.width * shape.height;
    case 'square':
      return shape.size ** 2;
  }
}

âœ… 4. TÃ¡i sá»­ dá»¥ng Type Alias

// âœ… Äá»‹nh nghÄ©a má»™t láº§n, dÃ¹ng nhiá»u nÆ¡i
type Timestamp = {
  createdAt: Date;
  updatedAt: Date;
};

type User = {
  id: number;
  name: string;
} & Timestamp;

type Product = {
  sku: string;
  name: string;
  price: number;
} & Timestamp;

âœ… 5. Káº¿t há»£p vá»›i Utility Types

type User = {
  id: number;
  name: string;
  email: string;
  password: string;
};

// Partial - Táº¥t cáº£ properties optional
type PartialUser = Partial<User>;

// Pick - Chá»n má»™t sá»‘ properties
type UserPublicInfo = Pick<User, 'id' | 'name' | 'email'>;

// Omit - Loáº¡i bá» má»™t sá»‘ properties
type UserWithoutPassword = Omit<User, 'password'>;

// Record - Táº¡o object type
type UserRoles = Record<'admin' | 'user' | 'guest', string[]>;

const roles: UserRoles = {
  admin: ['read', 'write', 'delete'],
  user: ['read', 'write'],
  guest: ['read']
};

--------------------------------------------------------------------------------

ğŸ“ TÃ³m táº¯t Type Alias & Union Types

Type Alias
----------
âœ… Äáº·t tÃªn cho báº¥t ká»³ type nÃ o
âœ… TÃ¡i sá»­ dá»¥ng, dá»… maintain
âœ… DÃ¹ng cho: primitives, objects, functions, unions

CÃº phÃ¡p:
type TypeName = Type;

Union Types
-----------
âœ… Káº¿t há»£p nhiá»u types vá»›i |
âœ… GiÃ¡ trá»‹ cÃ³ thá»ƒ lÃ  má»™t trong cÃ¡c types
âœ… TypeScript tá»± Ä‘á»™ng type narrowing

CÃº phÃ¡p:
type UnionType = Type1 | Type2 | Type3;

Best Practices
--------------
1. TÃªn type rÃµ rÃ ng, mÃ´ táº£
2. Union types cho giÃ¡ trá»‹ giá»›i háº¡n
3. Discriminated unions cho complex objects
4. TÃ¡i sá»­ dá»¥ng type alias
5. Káº¿t há»£p vá»›i utility types

ğŸ’¡ VÃ­ dá»¥ thá»±c táº¿ vá»›i Class

// ========================================
// âœ… DÃ™NG INTERFACE - Äá»‹nh nghÄ©a structure
// ========================================
interface PageElement {
  selector: string;
  timeout: number;
}

interface PageConfig {
  url: string;
  title: string;
  elements: PageElement[];
}

// ========================================
// âœ… DÃ™NG CLASS - Implementation
// ========================================
class LoginPage {
  url: string;
  emailSelector: string;
  passwordSelector: string;
  submitButtonSelector: string;

  constructor(url: string) {
    this.url = url;
    this.emailSelector = '#email';
    this.passwordSelector = '#password';
    this.submitButtonSelector = 'button[type="submit"]';
  }

  getEmailSelector(): string {
    return this.emailSelector;
  }

  getPasswordSelector(): string {
    return this.passwordSelector;
  }

  getSubmitButtonSelector(): string {
    return this.submitButtonSelector;
  }
}

// Sá»­ dá»¥ng class
const loginPage = new LoginPage('https://example.com/login');
console.log('Email selector:', loginPage.getEmailSelector());

// ========================================
// âœ… DÃ™NG TYPE - Unions vÃ  Config
// ========================================
type Environment = 'dev' | 'staging' | 'production';
type BrowserType = 'chromium' | 'firefox' | 'webkit';

type AppConfig = {
  env: Environment;
  browser: BrowserType;
  headless: boolean;
  timeout: number;
};

const config: AppConfig = {
  env: 'dev',
  browser: 'chromium',
  headless: true,
  timeout: 30000
};

// Union type cho flexible data
type LoginMethod = 
  | { type: 'email'; email: string; password: string }
  | { type: 'username'; username: string; password: string }
  | { type: 'phone'; phone: string; otp: string };

function login(method: LoginMethod) {
  if (method.type === 'email') {
    console.log('Login with email:', method.email);
  } else if (method.type === 'username') {
    console.log('Login with username:', method.username);
  } else {
    console.log('Login with phone:', method.phone);
  }
}

// Sá»­ dá»¥ng
login({ type: 'email', email: 'user@example.com', password: 'pass123' });

ğŸ¯ Best Practice: Káº¿t há»£p Interface vÃ  Type

// âœ… RECOMMENDED PATTERN

// Interface cho object structures
interface User {
  id: number;
  name: string;
  email: string;
}

interface Page {
  url: string;
  title: string;
  loadTime: number;
}

// Type cho unions, status
type UserRole = 'admin' | 'user' | 'guest';
type PageStatus = 'loading' | 'loaded' | 'error';

// Káº¿t há»£p Interface vÃ  Type
interface AuthenticatedUser extends User {
  role: UserRole; // Type dÃ¹ng trong Interface
  token: string;
  isActive: boolean;
}

const admin: AuthenticatedUser = {
  id: 1,
  name: 'Admin User',
  email: 'admin@example.com',
  role: 'admin',
  token: 'abc123xyz',
  isActive: true
};

// Union of Interfaces
type SearchResult = User | Page;

let result: SearchResult;
result = { id: 1, name: 'John', email: 'john@example.com' }; // User
result = { url: '/home', title: 'Home', loadTime: 1500 }; // Page

================================================================================
5. TYPE INFERENCE
================================================================================

ğŸ§  TypeScript tá»± Ä‘á»™ng suy luáº­n kiá»ƒu

// âœ… TypeScript tá»± hiá»ƒu khÃ´ng cáº§n khai bÃ¡o
const baseURL = 'https://example.com'; // TypeScript biáº¿t Ä‘Ã¢y lÃ  string
const timeout = 5000; // TypeScript biáº¿t Ä‘Ã¢y lÃ  number
const isEnabled = true; // TypeScript biáº¿t Ä‘Ã¢y lÃ  boolean

const numbers = [1, 2, 3]; // TypeScript biáº¿t: number[]
const names = ['John', 'Jane']; // TypeScript biáº¿t: string[]

// ğŸ“Œ Khi nÃ o NÃŠN khai bÃ¡o type?

// 1. Function parameters (LuÃ´n luÃ´n pháº£i khai bÃ¡o)
function navigateToPage(url: string, timeout: number): void {
  console.log(`Navigating to ${url} with timeout ${timeout}ms`);
}

// 2. Khi khai bÃ¡o biáº¿n trÆ°á»›c, gÃ¡n giÃ¡ trá»‹ sau
let userData: User; // Pháº£i khai bÃ¡o type
// ... code khÃ¡c
userData = { id: 1, name: 'John', email: 'john@example.com' };

// 3. Return type phá»©c táº¡p (nÃªn khai bÃ¡o rÃµ rÃ ng)
function getUsers(): User[] {
  return [
    { id: 1, name: 'John', email: 'john@example.com' },
    { id: 2, name: 'Jane', email: 'jane@example.com' }
  ];
}

// âš ï¸ Khi nÃ o KHÃ”NG Cáº¦N khai bÃ¡o?
const count = 10; // TypeScript tá»± hiá»ƒu lÃ  number
const message = 'Hello'; // TypeScript tá»± hiá»ƒu lÃ  string
const isActive = false; // TypeScript tá»± hiá»ƒu lÃ  boolean

================================================================================
6. BEST PRACTICES CHO PLAYWRIGHT TESTING
================================================================================

âœ… DOs - NÃªn lÃ m

// 1. âœ… DÃ¹ng const cho config
const CONFIG = {
  BASE_URL: 'https://example.com',
  TIMEOUT: 30000,
  RETRY_ATTEMPTS: 3
} as const; // as const Ä‘á»ƒ khÃ´ng thay Ä‘á»•i Ä‘Æ°á»£c

// 2. âœ… Interface cho object structures
interface PageConfig {
  url: string;
  title: string;
  timeout: number;
}

const homePage: PageConfig = {
  url: '/home',
  title: 'Home Page',
  timeout: 5000
};

// 3. âœ… Type cho unions vÃ  constants
type UserRole = 'admin' | 'user' | 'guest';

type UserData = {
  email: string;
  password: string;
  role: UserRole;
};

// 4. âœ… Enum cho constants cÃ³ nhiá»u giÃ¡ trá»‹
enum Selector {
  LOGIN_BTN = '#login',
  EMAIL_INPUT = 'input[type="email"]',
  PASSWORD_INPUT = 'input[type="password"]'
}

console.log(Selector.LOGIN_BTN); // Output: #login

// 5. âœ… Type guards cho unknown
function isError(error: unknown): error is Error {
  return error instanceof Error;
}

try {
  throw new Error('Test error');
} catch (err: unknown) {
  if (isError(err)) {
    console.error('Error:', err.message);
  }
}

âŒ DON'Ts - TrÃ¡nh lÃ m

// 1. âŒ TRÃNH var
var globalVar = 'test'; // DÃ¹ng const hoáº·c let

// 2. âŒ TRÃNH any (dÃ¹ng unknown)
let data: any; // âŒ
let data: unknown; // âœ…

// 3. âŒ TRÃNH type assertion khÃ´ng cáº§n thiáº¿t
const count = items.length as number; // Thá»«a, TypeScript Ä‘Ã£ biáº¿t

// 4. âŒ TRÃNH khai bÃ¡o type khi TypeScript tá»± suy luáº­n Ä‘Æ°á»£c
const url: string = 'https://example.com'; // Thá»«a
const url = 'https://example.com'; // âœ… Äá»§ rá»“i

ğŸ¯ VÃ­ dá»¥ hoÃ n chá»‰nh - Login Page Class

// ========== CONSTANTS ==========
const BASE_URL = 'https://app.example.com';
const LOGIN_PATH = '/login';
const TIMEOUT = 5000;

// ========== TYPES ==========
type LoginCredentials = {
  email: string;
  password: string;
};

type PageStatus = 'loading' | 'loaded' | 'error';

// ========== INTERFACE ==========
interface ILoginPage {
  url: string;
  emailSelector: string;
  passwordSelector: string;
  submitButtonSelector: string;
  
  getFullUrl(): string;
  getEmailSelector(): string;
  getPasswordSelector(): string;
}

// ========== CLASS IMPLEMENTATION ==========
class LoginPage implements ILoginPage {
  url: string;
  emailSelector: string;
  passwordSelector: string;
  submitButtonSelector: string;
  timeout: number;

  constructor(baseUrl: string, timeout: number = TIMEOUT) {
    this.url = baseUrl + LOGIN_PATH;
    this.emailSelector = '#email';
    this.passwordSelector = '#password';
    this.submitButtonSelector = 'button[type="submit"]';
    this.timeout = timeout;
  }

  getFullUrl(): string {
    return this.url;
  }

  getEmailSelector(): string {
    return this.emailSelector;
  }

  getPasswordSelector(): string {
    return this.passwordSelector;
  }

  getSubmitButtonSelector(): string {
    return this.submitButtonSelector;
  }

  displayInfo(): void {
    console.log('=== Login Page Info ===');
    console.log('URL:', this.getFullUrl());
    console.log('Email Selector:', this.getEmailSelector());
    console.log('Password Selector:', this.getPasswordSelector());
    console.log('Submit Button:', this.getSubmitButtonSelector());
    console.log('Timeout:', this.timeout, 'ms');
  }
}

// ========== USER DATA ==========
const users: LoginCredentials[] = [
  { email: 'admin@test.com', password: 'Admin@123' },
  { email: 'user@test.com', password: 'User@123' },
  { email: 'guest@test.com', password: 'Guest@123' }
];

// ========== USAGE ==========
// Táº¡o instance cá»§a LoginPage
const loginPage = new LoginPage(BASE_URL);

// Hiá»ƒn thá»‹ thÃ´ng tin
loginPage.displayInfo();

// Sá»­ dá»¥ng vá»›i user data
console.log('\n=== User Credentials ===');
users.forEach((user, index) => {
  console.log(`User ${index + 1}:`, user.email);
});

// Output:
// === Login Page Info ===
// URL: https://app.example.com/login
// Email Selector: #email
// Password Selector: #password
// Submit Button: button[type="submit"]
// Timeout: 5000 ms
//
// === User Credentials ===
// User 1: admin@test.com
// User 2: user@test.com
// User 3: guest@test.com

================================================================================
TÃ“M Táº®T - CHEAT SHEET
================================================================================

Khai bÃ¡o biáº¿n
-------------
const CONFIG = { url: '...' };  // âœ… Config, URLs, constants
let counter = 0;                 // âœ… Biáº¿n thay Ä‘á»•i
// var - âŒ KhÃ´ng dÃ¹ng

Kiá»ƒu dá»¯ liá»‡u cÆ¡ báº£n
-------------------
const url: string = 'https://...';
const timeout: number = 5000;
const isVisible: boolean = true;
const items: string[] = ['a', 'b'];

any vs unknown
--------------
let data: any;      // âŒ TrÃ¡nh - máº¥t type safety
let data: unknown;  // âœ… DÃ¹ng - an toÃ n hÆ¡n

Interface vs Type
-----------------
interface User { }     // âœ… Objects, Page Objects
type Status = 'ok';    // âœ… Unions, Tuples

Quy táº¯c vÃ ng
------------
1. DÃ¹ng const máº·c Ä‘á»‹nh, let khi cáº§n thay Ä‘á»•i
2. TrÃ¡nh any, dÃ¹ng unknown
3. Interface cho objects, Type cho unions
4. LuÃ´n type-check vá»›i unknown
5. Æ¯u tiÃªn type inference

================================================================================
ğŸ“ SUMMARY - TÃ“M Táº®T QUAN TRá»ŒNG
================================================================================

ğŸ¯ QUY Táº®C ÃP Dá»¤NG NHANH

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     QUICK REFERENCE                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚ ğŸ“Œ VARIABLES                                                     â”‚
â”‚    const  â†’ Máº·c Ä‘á»‹nh (khÃ´ng Ä‘á»•i)                                â”‚
â”‚    let    â†’ Khi cáº§n thay Ä‘á»•i giÃ¡ trá»‹                            â”‚
â”‚    var    â†’ âŒ KhÃ´ng dÃ¹ng                                        â”‚
â”‚                                                                  â”‚
â”‚ ğŸ“Œ NAMING                                                        â”‚
â”‚    Variables/Functions  â†’ camelCase                             â”‚
â”‚    Classes/Interfaces   â†’ PascalCase                            â”‚
â”‚    Constants            â†’ UPPER_SNAKE_CASE                       â”‚
â”‚    Files/Folders        â†’ kebab-case                             â”‚
â”‚                                                                  â”‚
â”‚ ğŸ“Œ TYPE SAFETY                                                   â”‚
â”‚    Objects              â†’ interface                              â”‚
â”‚    Unions/Primitives    â†’ type                                   â”‚
â”‚    Unknown data         â†’ unknown (khÃ´ng dÃ¹ng any)               â”‚
â”‚    Type inference       â†’ Äá»ƒ TypeScript tá»± suy luáº­n             â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

================================================================================
TÃ€I LIá»†U THAM KHáº¢O
================================================================================

- TypeScript Handbook: https://www.typescriptlang.org/docs/handbook/intro.html
- Playwright TypeScript Guide: https://playwright.dev/docs/test-typescript
- TypeScript Deep Dive: https://basarat.gitbook.io/typescript/

================================================================================
ğŸ“ End of Module
Variables & Data Types trong TypeScript for Playwright Testing
Háº¹n gáº·p láº¡i á»Ÿ Module 02: Functions & Logic Control!
================================================================================
